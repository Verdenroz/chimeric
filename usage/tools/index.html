
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Unified interface for multiple LLM providers with automatic provider detection and seamless switching">
      
      
        <meta name="author" content="Harvey Tseng">
      
      
        <link rel="canonical" href="https://verdenroz.github.io/chimeric/usage/tools/">
      
      
        <link rel="prev" href="../streaming/">
      
      
        <link rel="next" href="../../contributing/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Tools - Chimeric</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#function-calling-with-tools" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Chimeric" class="md-header__button md-logo" aria-label="Chimeric" data-md-component="logo">
      
  <img src="../../assets/images/chimeric.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chimeric
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tools
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Verdenroz/chimeric" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Verdenroz/chimeric
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Chimeric" class="md-nav__button md-logo" aria-label="Chimeric" data-md-component="logo">
      
  <img src="../../assets/images/chimeric.png" alt="logo">

    </a>
    Chimeric
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Verdenroz/chimeric" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    Verdenroz/chimeric
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../responses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Response Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Registration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Registration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-names-and-descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Names and Descriptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-docstring-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Docstring Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported Docstring Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#google-style-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Google Style (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numpy-style" class="md-nav__link">
    <span class="md-ellipsis">
      NumPy Style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sphinx-style" class="md-nav__link">
    <span class="md-ellipsis">
      Sphinx Style
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-system-support" class="md-nav__link">
    <span class="md-ellipsis">
      Type System Support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type System Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-types" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-types" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-and-optional-types" class="md-nav__link">
    <span class="md-ellipsis">
      Union and Optional Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-management" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-registered-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Registered Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-tool-control" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Tool Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-auto_tool-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      The auto_tool Parameter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-design" class="md-nav__link">
    <span class="md-ellipsis">
      Function Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Provider Compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-function-support" class="md-nav__link">
    <span class="md-ellipsis">
      Async Function Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streaming-with-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming with Tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/Verdenroz/chimeric/releases" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Registration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Registration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-names-and-descriptions" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Names and Descriptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-docstring-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Docstring Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported Docstring Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#google-style-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Google Style (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numpy-style" class="md-nav__link">
    <span class="md-ellipsis">
      NumPy Style
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sphinx-style" class="md-nav__link">
    <span class="md-ellipsis">
      Sphinx Style
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-system-support" class="md-nav__link">
    <span class="md-ellipsis">
      Type System Support
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type System Support">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-types" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-types" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-and-optional-types" class="md-nav__link">
    <span class="md-ellipsis">
      Union and Optional Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tool-management" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tool Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-registered-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Registered Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-tool-control" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Tool Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-auto_tool-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      The auto_tool Parameter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-design" class="md-nav__link">
    <span class="md-ellipsis">
      Function Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Provider Compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-function-support" class="md-nav__link">
    <span class="md-ellipsis">
      Async Function Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streaming-with-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming with Tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="function-calling-with-tools">Function Calling with Tools<a class="headerlink" href="#function-calling-with-tools" title="Permanent link">&para;</a></h1>
<p>Chimeric provides a powerful function calling system that allows AI models to execute Python functions during conversations. This enables models to perform actions, fetch data, or interact with external systems.</p>
<div class="admonition warning">
<p class="admonition-title">Provider Reliability</p>
<p>Function calling reliability varies significantly by provider. <strong>OpenAI, Anthropic, and Google</strong> are among the most reliable for tool use. Other providers may have inconsistent function calling behavior, parameter parsing issues, or limited tool support. For production applications requiring reliable function calling, we recommend using these proven providers.</p>
</div>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Function calling (also known as "tool use") allows LLM models to call predefined Python functions based on the conversation context. Chimeric automatically:</p>
<ul>
<li>Registers Python functions as tools</li>
<li>Generates parameter schemas from type hints</li>
<li>Parses multiple docstring formats for descriptions</li>
<li>Handles tool execution and response formatting</li>
</ul>
<h2 id="tool-registration">Tool Registration<a class="headerlink" href="#tool-registration" title="Permanent link">&para;</a></h2>
<h3 id="basic-registration">Basic Registration<a class="headerlink" href="#basic-registration" title="Permanent link">&para;</a></h3>
<p>Use the <code>@tool()</code> decorator to register functions:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">chimeric</span><span class="w"> </span><span class="kn">import</span> <span class="n">Chimeric</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Chimeric</span><span class="p">()</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_weather</span><span class="p">(</span><span class="n">city</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get current weather for a city.</span>

<span class="sd">    Args:</span>
<span class="sd">        city: Name of the city to get weather for</span>

<span class="sd">    Returns:</span>
<span class="sd">        Weather description string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Your weather API logic here</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Sunny, 75°F in </span><span class="si">{</span><span class="n">city</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Function is now available to all models</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What&#39;s the weather in San Francisco?&quot;</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="custom-names-and-descriptions">Custom Names and Descriptions<a class="headerlink" href="#custom-names-and-descriptions" title="Permanent link">&para;</a></h3>
<p>Override default names and descriptions:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;fetch_stock_data&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Retrieve real-time stock information&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_stock_price</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">include_history</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get stock price and optional historical data.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;symbol&quot;</span><span class="p">:</span> <span class="n">symbol</span><span class="p">,</span>
        <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mf">150.25</span><span class="p">,</span>
        <span class="s2">&quot;history&quot;</span><span class="p">:</span> <span class="p">[]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">include_history</span> <span class="k">else</span> <span class="p">[</span><span class="mi">140</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>
    <span class="p">}</span>
</code></pre></div>
<h2 id="supported-docstring-formats">Supported Docstring Formats<a class="headerlink" href="#supported-docstring-formats" title="Permanent link">&para;</a></h2>
<p>Chimeric supports three popular docstring formats for automatic parameter documentation:</p>
<h3 id="google-style-recommended">Google Style (Recommended)<a class="headerlink" href="#google-style-recommended" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">analyze_data</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mean&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Analyze numerical data using statistical methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        data: List of numerical values to analyze</span>
<span class="sd">        method: Statistical method to use (&#39;mean&#39;, &#39;median&#39;, &#39;mode&#39;)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary containing analysis results</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Implementation here</span>
    <span class="k">pass</span>
</code></pre></div>
<h3 id="numpy-style">NumPy Style<a class="headerlink" href="#numpy-style" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">process_image</span><span class="p">(</span><span class="n">image_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resize</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process an image file with optional resizing.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    image_path : str</span>
<span class="sd">        Path to the image file to process</span>
<span class="sd">    resize : bool, optional</span>
<span class="sd">        Whether to resize the image, default True</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        Path to the processed image file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Implementation here</span>
    <span class="k">pass</span>
</code></pre></div>
<h3 id="sphinx-style">Sphinx Style<a class="headerlink" href="#sphinx-style" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">send_email</span><span class="p">(</span><span class="n">recipient</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">body</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send an email message.</span>

<span class="sd">    :param recipient: Email address of the recipient</span>
<span class="sd">    :param subject: Subject line of the email</span>
<span class="sd">    :param body: Email body content, optional</span>
<span class="sd">    :returns: True if email was sent successfully</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Implementation here</span>
    <span class="k">pass</span>
</code></pre></div>
<h2 id="type-system-support">Type System Support<a class="headerlink" href="#type-system-support" title="Permanent link">&para;</a></h2>
<p>Chimeric automatically converts Python type hints to JSON schemas for models:</p>
<h3 id="basic-types">Basic Types<a class="headerlink" href="#basic-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">basic_types_example</span><span class="p">(</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>           <span class="c1"># → &quot;string&quot; </span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>         <span class="c1"># → &quot;integer&quot;</span>
    <span class="n">decimal</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>      <span class="c1"># → &quot;number&quot;</span>
    <span class="n">flag</span><span class="p">:</span> <span class="nb">bool</span>          <span class="c1"># → &quot;boolean&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Example of basic type support.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">decimal</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="complex-types">Complex Types<a class="headerlink" href="#complex-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">complex_types_example</span><span class="p">(</span>
    <span class="n">items</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>              <span class="c1"># → array of strings</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>      <span class="c1"># → object with integer values</span>
    <span class="n">optional_param</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># → optional string</span>
    <span class="n">tags</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>        <span class="c1"># → optional array</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Example of complex type support.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="n">items</span> <span class="ow">or</span> <span class="p">[],</span>
        <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="n">metadata</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="n">tags</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="p">}</span>
</code></pre></div>
<h3 id="union-and-optional-types">Union and Optional Types<a class="headerlink" href="#union-and-optional-types" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Union</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">flexible_input</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>        <span class="c1"># → accepts string or integer</span>
    <span class="n">optional_flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># → optional boolean</span>
    <span class="n">default_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>     <span class="c1"># → optional string array</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handle flexible input types.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Processed: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h2 id="tool-management">Tool Management<a class="headerlink" href="#tool-management" title="Permanent link">&para;</a></h2>
<h3 id="accessing-registered-tools">Accessing Registered Tools<a class="headerlink" href="#accessing-registered-tools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Get all registered tools</span>
<span class="n">all_tools</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">tools</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Registered </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_tools</span><span class="p">)</span><span class="si">}</span><span class="s2"> tools:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">all_tools</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="manual-tool-control">Manual Tool Control<a class="headerlink" href="#manual-tool-control" title="Permanent link">&para;</a></h3>
<p>Control which tools are available for specific requests:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Register multiple tools</span>
<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_weather</span><span class="p">(</span><span class="n">city</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Weather in </span><span class="si">{</span><span class="n">city</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_stock_price</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="k">return</span> <span class="mf">150.25</span>

<span class="c1"># Use specific tools only</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What&#39;s the weather in NYC? What is the stock price of AAPL?&quot;</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">client</span><span class="o">.</span><span class="n">tools</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>  <span class="c1"># Only weather tool</span>
    <span class="n">auto_tool</span><span class="o">=</span><span class="kc">False</span>  <span class="c1"># Don&#39;t auto-include other tools</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

<span class="c1"># Use all tools (default behavior)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What&#39;s the weather in NYC? What is the stock price of AAPL?&quot;</span><span class="p">,</span>
    <span class="n">auto_tool</span><span class="o">=</span><span class="kc">True</span>  <span class="c1"># Automatically includes all registered tools</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div>
<h2 id="the-auto_tool-parameter">The auto_tool Parameter<a class="headerlink" href="#the-auto_tool-parameter" title="Permanent link">&para;</a></h2>
<p>The <code>auto_tool</code> parameter controls automatic tool inclusion:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># auto_tool=True (default): Use all registered tools if none specified</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What can you help me with?&quot;</span><span class="p">,</span>
    <span class="n">auto_tool</span><span class="o">=</span><span class="kc">True</span>  <span class="c1"># All registered tools available</span>
<span class="p">)</span>

<span class="c1"># auto_tool=False: Only use explicitly provided tools</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span> 
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;Get weather for Boston&quot;</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">weather_tool</span><span class="p">],</span>  <span class="c1"># Only this tool</span>
    <span class="n">auto_tool</span><span class="o">=</span><span class="kc">False</span>       <span class="c1"># Don&#39;t add other registered tools</span>
<span class="p">)</span>

<span class="c1"># Explicit tools override auto_tool behavior</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;Send an email&quot;</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">email_tool</span><span class="p">],</span>   <span class="c1"># Only email tool, regardless of auto_tool</span>
    <span class="n">auto_tool</span><span class="o">=</span><span class="kc">True</span>       <span class="c1"># Ignored when tools are explicitly provided</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="function-design">Function Design<a class="headerlink" href="#function-design" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Clear Descriptions</strong>: Write descriptive docstrings explaining what the function does</li>
<li><strong>Type Hints</strong>: Always use type hints for automatic schema generation</li>
<li><strong>Parameter Documentation</strong>: Document each parameter's purpose and format</li>
<li><strong>Error Handling</strong>: Handle errors gracefully and return meaningful messages</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fetch_user_profile</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">include_preferences</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetch user profile information from the database.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_id: Unique identifier for the user (UUID format)</span>
<span class="sd">        include_preferences: Whether to include user preference settings</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary containing user profile data, or error message if user not found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Validate user_id format</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user_id</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid user_id format&quot;</span><span class="p">}</span>

        <span class="c1"># Fetch user data</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">get_user_from_db</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">profile</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">user_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">}</span>

        <span class="c1"># Add preferences if requested</span>
        <span class="k">if</span> <span class="n">include_preferences</span><span class="p">:</span>
            <span class="n">profile</span><span class="p">[</span><span class="s2">&quot;preferences&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_user_preferences</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">profile</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Failed to fetch user profile: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</code></pre></div>
<h3 id="provider-compatibility">Provider Compatibility<a class="headerlink" href="#provider-compatibility" title="Permanent link">&para;</a></h3>
<p>Not all providers support function calling. Check provider capabilities:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check if provider supports tools</span>
<span class="k">if</span> <span class="s2">&quot;openai&quot;</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">available_providers</span><span class="p">:</span>
    <span class="n">caps</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_capabilities</span><span class="p">(</span><span class="s2">&quot;openai&quot;</span><span class="p">)</span> 
    <span class="k">if</span> <span class="n">caps</span><span class="o">.</span><span class="n">tools</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;OpenAI supports function calling&quot;</span><span class="p">)</span>

<span class="c1"># Use tools only with compatible providers</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>  <span class="c1"># OpenAI supports tools</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;Process this data for me&quot;</span><span class="p">,</span>
    <span class="c1"># tools will be used automatically</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="async-function-support">Async Function Support<a class="headerlink" href="#async-function-support" title="Permanent link">&para;</a></h3>
<p>Function calling works with both sync and async generation:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Async generation with tools</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">agenerate</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What&#39;s the current time?&quot;</span><span class="p">,</span>
        <span class="n">auto_tool</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></div>
<h2 id="streaming-with-tools">Streaming with Tools<a class="headerlink" href="#streaming-with-tools" title="Permanent link">&para;</a></h2>
<p>Function calling works seamlessly with streaming responses, allowing you to see both AI-generated text and tool execution results in real-time:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">chimeric</span><span class="w"> </span><span class="kn">import</span> <span class="n">Chimeric</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Chimeric</span><span class="p">()</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_current_time</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current time.&quot;&quot;&quot;</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Current time: </span><span class="si">{</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S UTC&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tell_joke</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tell a programming joke.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;Why do programmers prefer dark mode? Because light attracts bugs! 🐛&quot;</span>

<span class="c1"># Stream with tools enabled</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What time is it and then tell me a programming joke?&quot;</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Streaming response with tools:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">chunk</span><span class="o">.</span><span class="n">delta</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="o">.</span><span class="n">delta</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">chunk</span><span class="o">.</span><span class="n">finish_reason</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Stream finished: </span><span class="si">{</span><span class="n">chunk</span><span class="o">.</span><span class="n">finish_reason</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This enables real-time interaction where users can see the AI's response being generated while tools are being called and executed in the background.</p>
<h2 id="complete-example">Complete Example<a class="headerlink" href="#complete-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">chimeric</span><span class="w"> </span><span class="kn">import</span> <span class="n">Chimeric</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">Chimeric</span><span class="p">()</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_current_time</span><span class="p">(</span><span class="n">timezone</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;UTC&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current time in specified timezone.</span>

<span class="sd">    Args:</span>
<span class="sd">        timezone: Timezone name (e.g., &#39;UTC&#39;, &#39;EST&#39;, &#39;PST&#39;)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Current time as formatted string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Simple implementation for demo</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Current time (</span><span class="si">{</span><span class="n">timezone</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nd">@client</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calculate_tip</span><span class="p">(</span><span class="n">bill_amount</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">tip_percentage</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">18.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate tip amount and total bill.</span>

<span class="sd">    Args:</span>
<span class="sd">        bill_amount: Total bill amount before tip</span>
<span class="sd">        tip_percentage: Tip percentage (default 18%)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary with tip amount and total</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tip_amount</span> <span class="o">=</span> <span class="n">bill_amount</span> <span class="o">*</span> <span class="p">(</span><span class="n">tip_percentage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">bill_amount</span> <span class="o">+</span> <span class="n">tip_amount</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;bill_amount&quot;</span><span class="p">:</span> <span class="n">bill_amount</span><span class="p">,</span>
        <span class="s2">&quot;tip_percentage&quot;</span><span class="p">:</span> <span class="n">tip_percentage</span><span class="p">,</span>
        <span class="s2">&quot;tip_amount&quot;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">tip_amount</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">}</span>

<span class="c1"># Use the tools</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o&quot;</span><span class="p">,</span>
    <span class="n">messages</span><span class="o">=</span><span class="s2">&quot;What time is it and help me calculate a 20% tip on a $85 bill&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="c1"># Model will call both functions and provide a complete response</span>
</code></pre></div>
<p>This comprehensive function calling system makes it easy to extend AI models with custom capabilities while maintaining type safety and clear documentation.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2025 Harvey Tseng
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Verdenroz/chimeric" target="_blank" rel="noopener" title="Chimeric on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>